{
  "version": "2.0.0",
  "taxonomy": {
    "levels": [
      "tokens",
      "elements",
      "components",
      "layouts",
      "templates"
    ],
    "deprecated": {
      "patterns": "Migrated to component features",
      "modules": "Merged into components/complex",
      "sections": "Merged into components/sections"
    }
  },
  "detection": {
    "rules": [
      {
        "if": "matches CSS custom property",
        "pattern": "^--[\\w-]+:\\s*[^;]+;",
        "then": "token"
      },
      {
        "if": "has data-element attribute",
        "pattern": "data-element=",
        "then": "element"
      },
      {
        "if": "has data-component or contains state/event handlers",
        "pattern": "data-component=|addEventListener|onclick|state",
        "then": "component"
      },
      {
        "if": "has data-layout or defines grid/flex structure",
        "pattern": "data-layout=|display:\\s*(grid|flex)",
        "then": "layout"
      },
      {
        "if": "has data-template or composes multiple sections",
        "pattern": "data-template=|<header>.*<main>.*<footer>",
        "then": "template"
      }
    ]
  },
  "transform": {
    "steps": [
      "parse",
      "classify",
      "extract",
      "optimize",
      "compose"
    ],
    "mappings": {
      "react-component": "component",
      "vue-component": "component",
      "jquery-plugin": "component",
      "css-framework": "tokens+elements",
      "page-section": "component/section"
    }
  },
  "features": {
    "description": "Optional component behaviors",
    "available": [
      "draggable",
      "sortable",
      "collapsible",
      "dismissible",
      "lazy",
      "animated",
      "responsive"
    ],
    "usage": "data-{feature}=\"true\""
  }
}