<div data-component="product-card"
     data-name="Product Name"
     data-price="0"
     data-image=""
     data-id="">
  <style>
    [data-component="product-card"] {
      display: flex;
      flex-direction: column;
      background: white;
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: all var(--duration-base);
    }
    
    [data-component="product-card"]:hover {
      box-shadow: var(--shadow-md);
      transform: translateY(-2px);
    }
    
    .product__image {
      width: 100%;
      aspect-ratio: 1;
      object-fit: cover;
      background: var(--color-gray-100);
    }
    
    .product__content {
      padding: var(--space-lg);
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: var(--space-sm);
    }
    
    .product__name {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-semibold);
      margin: 0;
      color: var(--color-gray-900);
    }
    
    .product__price {
      font-size: var(--font-size-xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
      margin: 0;
    }
    
    .product__actions {
      margin-top: auto;
      padding-top: var(--space-md);
    }
    
    .product__button {
      width: 100%;
      padding: var(--space-sm) var(--space-md);
      background: var(--color-primary);
      color: white;
      border: none;
      border-radius: var(--radius-base);
      font-size: var(--font-size-base);
      font-weight: var(--font-weight-medium);
      cursor: pointer;
      transition: all var(--duration-fast);
    }
    
    .product__button:hover {
      background: #0056b3;
      transform: scale(1.02);
    }
    
    .product__button:active {
      transform: scale(0.98);
    }
    
    .product__button--added {
      background: var(--color-success);
      cursor: default;
    }
  </style>
  
  <img class="product__image" alt="">
  <div class="product__content">
    <h3 class="product__name"></h3>
    <p class="product__price"></p>
    <div class="product__actions">
      <button class="product__button">Add to Cart</button>
    </div>
  </div>
  
  <script>
  CS.component('product-card', {
    init() {
      // Elements
      this.image = this.$('.product__image');
      this.name = this.$('.product__name');
      this.price = this.$('.product__price');
      this.button = this.$('.product__button');
      
      // Set initial data
      this.updateDisplay();
      
      // Cart functionality
      this.button.onclick = () => this.addToCart();
    },
    
    updateDisplay() {
      this.name.textContent = this.config.name || 'Product';
      this.price.textContent = this.formatPrice(this.config.price || 0);
      
      if (this.config.image) {
        this.image.src = this.config.image;
        this.image.alt = this.config.name || 'Product image';
      }
    },
    
    formatPrice(price) {
      const num = parseFloat(price);
      return new Intl.NumberFormat('en-US', {
        style: 'currency',
        currency: 'USD'
      }).format(num);
    },
    
    addToCart() {
      if (this.button.disabled) return;
      
      // Emit event with product data
      this.emit('cart:add', {
        id: this.config.id || this.generateId(),
        name: this.config.name,
        price: parseFloat(this.config.price),
        quantity: 1
      });
      
      // Visual feedback
      this.button.textContent = 'âœ“ Added';
      this.button.classList.add('product__button--added');
      this.button.disabled = true;
      
      // Reset after delay
      setTimeout(() => {
        this.button.textContent = 'Add to Cart';
        this.button.classList.remove('product__button--added');
        this.button.disabled = false;
      }, 2000);
    },
    
    generateId() {
      return `product-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
    },
    
    updateProduct(data) {
      Object.assign(this.config, data);
      this.updateDisplay();
    }
  });
  </script>
</div>